{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.97b9e6afd9e178f802b3.hot-update.js","sources":["webpack:///./pages/_app.js"],"sourcesContent":["import React from 'react'\r\nimport App, { Container } from 'next/app'\r\nimport Page from '../components/Page'\r\n\r\nexport default class MyApp extends App {\r\n  static async getInitialProps({ Component, ctx }) {\r\n    console.log('_app');\r\n    let pageProps = {}\r\n\r\n    if (Component.getInitialProps) {\r\n      pageProps = await Component.getInitialProps(ctx)\r\n    }\r\n    let items = [];\r\n    const data= fetch('https://spreadsheets.google.com/feeds/list/1USp6UQtQqJYWlwPj0tZaIDnbsL51NSHCes09cFDDum0/od6/public/values?alt=json')\r\n    .then(response => response.json())\r\n    .then((res) => {\r\n      //Once data has come in, process it and set global var\r\n      items = res.feed.entry.filter((item) => {\r\n        item.tags = item.gsx$tags.$t.split(',').map((t) => (t.trim()));\r\n        return  item.gsx$islive.$t === \"1\"\r\n      });\r\n\r\n      const itemTypes = [...new Set(\r\n        items.map((item) => (\r\n          item.gsx$itemtype.$t \r\n          )\r\n        )\r\n      )];\r\n  \r\n      const titles = [...new Set(\r\n        items.map((item) => (\r\n          item.gsx$title.$t\r\n        ))\r\n      )].filter(x => x!='');\r\n\r\n      const allTags = [];\r\n      items.map((item) => (\r\n        item.gsx$tags.$t.split(',')\r\n      )).filter(x => x!='').forEach((t) => {\r\n          t.forEach((r) => {\r\n            allTags.push(r.trim())\r\n          })\r\n        }\r\n      );\r\n\r\n      const tags = [...new Set(allTags)];\r\n\r\n\r\n            \r\n      // this.setState({\r\n      //   itemTypes,\r\n      //   titles,\r\n      //   loading: 'false',\r\n      //   tags\r\n      // });\r\n    });\r\n    console.log(items)\r\n\r\n    return { pageProps }\r\n  }\r\n\r\n\r\n\r\n  loadData(){\r\n    console.log('d')\r\n    const data= fetch('https://spreadsheets.google.com/feeds/list/1USp6UQtQqJYWlwPj0tZaIDnbsL51NSHCes09cFDDum0/od6/public/values?alt=json')\r\n    .then(response => response.json());\r\n    return data;\r\n  }\r\n\r\n  render () {\r\n    const { Component, pageProps } = this.props\r\n\r\n    return (\r\n      <Container>\r\n        <Page>\r\n          <Component {...pageProps} />\r\n        </Page>\r\n      </Container>\r\n    )\r\n  }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AAAA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAGA;AAOA;;;;;;;;;;;;AA3EA;AACA;AACA;AACA;AACA;;;;;;AACA;AACA;;AADA;AACA;;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAKA;AACA;AAAA;AAGA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAvDA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}